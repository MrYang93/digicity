---
title: axios
---

axios 是我们用来发 HTTP 请求到服务器端的，但是一个完整的
AJAX 其实是有两步组成：

- 第一步，向服务器发送请求，同时保证页面不刷新
- 第二步，服务器执行完成之后，客户端页面要做出调整

第一步，可以用 axios 的接口实现：

```
axios.post('/posts', data)
```

第二步，axios 也可以实现，就是

```
.then(function(){
  // 更改页面效果的 JS 代码
  })
```

.then() 的执行条件就是服务成功返回之后。


### .then() 什么时候被执行？

服务器端执行成功。但是，如何服务器不给客户端返回 200 的这个状态码，.then() 就不执行。

>小贴士：状态码
> Status Code 是服务器返回给客户端的一个整数，如果返回
20x 表示返回成功，如果返回 50x 表示服务器执行失败。

具体操作，我们可以用 res.status(200) 这样的接口明文发送状态码，但是如果我们只写

```
res.json({ message: '操作成功了！'})
```

到客户端浏览器的开发者工具中，也可以看到200的状态码，所以 .then 也可以被触发。



### .catch() 什么时候被执行？

服务端执行失败。如果服务器给客户端返回500，那么 .catch() 就会被触发。


```
res.status(500)
```
